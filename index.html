<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>kazlovesbats | isAwesome()</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="ico/apple-touch-icon-57-precomposed.png">
    <link rel="shortcut icon" href="ico/favicon.png">

    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/docs.css">
    <link rel="stylesheet" href="css/main.css">

    <script src="js/vendor/modernizr-2.6.2.min.js" type="text/javascript"></script>

  </head>
  <body>
    <!--[if lt IE 7]>
        <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->

    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="brand" href="/">kazlovesbats</a>
            <div class="nav-collapse collapse">
              <ul id="options" class="nav clearfix" data-option-key="filter">
                <li class="active">
                    <a href="#filter" data-option-value="*">All</a>
                </li>
                <li class="">
                    <a href="#filter" data-option-value=".youtube">YouTube</a>
                </li>
                <li class="">
                  <a href="#filter" data-option-value=".instagram">Instagram</a>
                </li>
                <li class="">
                    <a href="#filter" data-option-value=".tumblr">Tumblr</a>
                </li>
                <li class="">
                    <a href="#filter" data-option-value=".twitter">Twitter</a>
                </li>
                <li class="">
                    <a href="#filter" data-option-value=".blogger">Blogger</a>
                </li>
              </ul>
            </div>
        </div>
    </div>

    <div class="bs-docs-jumbotron masthead">
        <div class="container">
            <h1>Allison Eckfeldt</h1>
            <p class="lead">aka Kazlovesbats</p>
        </div>
    </div>



    <div id="container" class="clearfix">

      <script type="text/template" id="youtube-template">
        <% _.each(items, function(item) { %>
          <div class="thumbnail <%= service %>">
            <button class="btn btn-small btn-danger">YouTube</button>
            <img src="<%= item.thumbnail %>" alt="YouTube" />
            <strong><a href="<%= item.url %>"><%= item.title %></a></strong>

            <p class="description">
              <small><%= item.description %></small>
            </p>

            <p class="stats text-center">
              <small>
                <span class="viewCount">
                  <i class="glyphicon-eye-open"></i>
                  <strong> <%= item.viewCount %></strong> views
                </span>
                <span class="timeDuration">
                  <i class="glyphicon-time"></i>
                  <strong> <%= item.timeDuration %></strong> minutes
                </span>
              </small>
            </p>

            <p class="likes text-center">
              <small>
                <span class="likeCount text-success">
                  <i class="glyphicon-thumbs-up"></i>
                  <strong> <%= item.likeCount %></strong> likes
                </span>
                <span class="dislikeCount text-error">
                  <i class="glyphicon-thumbs-down"></i>
                  <strong> <%= item.dislikeCount %></strong> dislikes
                </span>
              </small>
            </p>

            <div class="thumbnail-footer">
              <small>Uploaded on <strong class="date"><%= item.uploadDate %></strong></small>
            </div>
          </div>
        <% }); %>
      </script>
      <script type="text/template" id="instagram-template">
        <% _.each(items, function(item) { %>
        <div class="thumbnail <%= service %>">
          <button class="btn btn-small btn-primary">Instagram</button>
          <img src="<%= item.image %>" alt="Instagram" />
          <p class="description">
            <small><i class="glyphicon-tint"></i> <strong><%= item.filter %></strong></small><br>
            <small><i class="glyphicon-comment"></i> <%= item.caption %></small>
          </p>

          <p class="likes">
            <small>
                <span>
                  <strong> <%= item.likes %></strong> likes
                </span>
                <span>
                  <strong> <%= item.comments %></strong> comments
                </span>
            </small>
          </p>

          <div class="thumbnail-footer">
            <small>Created on <strong class="date"><%= item.created_time %></strong></small>
          </div>
        </div>
        <% }); %>
      </script>


    </div> <!-- #container -->


    <!-- Footer
    ================================================== -->
    <footer class="footer">
        <div class="container">
            Unofficial website of Allison Eckfeldt. Created by <a href="http://sahat.me">sahat</a>.
        </div>
    </footer>

    <div id="videos"></div>

    <script src="js/vendor/jquery-1.9.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/underscore.js"></script>
    <script src="js/jquery.isotope.js"></script>
    <script type="text/javascript">
      function showUploadedVideos(data) {
        var feed = data.feed;
        var entries = feed.entry || [];

        var templateData = {
          service: "youtube",
          items: []
        };

        for (var i = 0; i < entries.length; i++) {
          var entry = entries[i];

          var item = {
            url: entry.media$group.media$player.url,
            title: entry.title.$t,
            thumbnail: entry.media$group.media$thumbnail[1].url,
            description: entry.media$group.media$description.$t,
            viewCount: entry.yt$statistics.viewCount,
            timeDuration: entry.media$group.yt$duration.seconds,
            uploadDate: entry.media$group.yt$uploaded.$t,
            likeCount: entry.yt$rating.numLikes,
            dislikeCount: entry.yt$rating.numDislikes
          };

          var minutes = Math.floor(parseInt(item.timeDuration) / 60);
          var seconds = parseInt(item.timeDuration) - minutes * 60;
          item.timeDuration = minutes + ':' + seconds;

          var date =  new Date(item.uploadDate);
          item.uploadDate = date.toLocaleDateString();

          templateData.items.push(item);
        }

        var templateMarkup = $("#youtube-template" ).html();
        var template = _.template(templateMarkup, templateData);
        $("#container").append(template);
      }

      function showInstagramFeed(data) {
        var entries = data.data || [];

        var templateData = {
          service: "instagram",
          items: []
        };

        for (var i = 0; i < entries.length; i++) {
          var entry = entries[i];

          var item = {
            image: entry.images.low_resolution.url,
            likes: entry.likes.count,
            filter: entry.filter || 'None',
            created_time: entry.created_time,
            caption: entry.caption.text,
            comments: entry.comments.count
          };

          var date = new Date(1000 * item.created_time);
          item.created_time = date.toLocaleDateString();

          templateData.items.push(item);
        }

        var templateMarkup = $("#instagram-template" ).html();
        var template = _.template(templateMarkup, templateData);
        $("#container").append(template);
      }
    </script>
    <script src="http://gdata.youtube.com/feeds/api/users/kazlovesbats/uploads?v=2&alt=json-in-script&callback=showUploadedVideos"></script>
    <script src="https://api.instagram.com/v1/users/50548853/media/recent/?access_token=6321489.f59def8.5ceb23cbbb664eef927df559469b663c&callback=showInstagramFeed"></script>
    <script src="js/main.js"></script>

  </body>

</html>
